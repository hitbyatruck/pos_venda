<div class="filter-container" id="advancedSearch">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0">Filtros avançados</h5>
      <button class="btn btn-sm btn-outline-secondary" 
              type="button" 
              data-bs-toggle="collapse" 
              data-bs-target="#filterCollapse">
        <i class="bi bi-sliders"></i> Mostrar/Ocultar
      </button>
    </div>
  
    <div class="collapse {% if request.GET.q or request.GET.cidade or request.GET.tipo %}show{% endif %}" id="filterCollapse">
      <form method="get" action="{{ request.path }}">
        <!-- Preservar parâmetros de ordenação se existirem -->
        {% if request.GET.ordenar_por %}
        <input type="hidden" name="ordenar_por" value="{{ request.GET.ordenar_por }}">
        <input type="hidden" name="direcao" value="{{ request.GET.direcao }}">
        {% endif %}
        
        <!-- Conteúdo do filtro -->
        <div class="row">
          {{ filter_content|safe }}
        </div>
        
        <!-- Botões -->
        <div class="mt-3 text-end">
          <a href="{{ request.path }}" class="btn btn-outline-secondary me-2">Limpar</a>
          <button type="submit" class="btn btn-primary">Pesquisar</button>
        </div>
      </form>
    </div>
  </div>